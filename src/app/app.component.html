<body>
<div class="page-wrapper">
  <!-- Header -->
  <header class="dashboard-header" *ngIf="isLoggedIn && isDashboardRoute">
    <h1 routerLink="/dashboard" style="cursor: pointer;">QuickWeather</h1>
    <nav class="dashboard-nav">
      <button mat-button color="warn" (click)="logout()">Logout</button>
    </nav>
  </header>

  <header class="dashboard-header" *ngIf="!isDashboardRoute">
    <h1>Weather Dashboard</h1>
<!--    <h1 routerLink="/" style="cursor: pointer;">QuickWeather</h1>-->
    <nav class="dashboard-nav">
      <button mat-button color="primary" routerLink="/login" *ngIf="!isLoggedIn">Login</button>
      <button mat-button color="accent" routerLink="/register" *ngIf="!isLoggedIn">Register</button>
      <button mat-button color="warn" *ngIf="isLoggedIn" (click)="logout()">Logout</button>
    </nav>
  </header>

  <!-- Główna zawartość -->
  <main class="main-container">
    <!-- Router outlet -->
    <section class="app-container">
      <router-outlet></router-outlet>
    </section>

    <!-- Sekcja wyszukiwania pogody -->
    <section *ngIf="showWeatherSearch" class="container">
      <mat-card class="search-card">
        <h2>Check Weather in Your City</h2>
        <mat-form-field appearance="outline" class="search-bar">
          <mat-label>Enter city</mat-label>
          <input matInput [(ngModel)]="city" />
        </mat-form-field>
        <div class="button-group">
          <button mat-raised-button color="primary" (click)="searchWeather()">Search</button>
        </div>
      </mat-card>

      <!-- Wyniki wyszukiwania pogody -->
      <div *ngIf="weatherData" class="weather-result">
        <mat-card>
          <h3>Weather in {{ weatherData.name }}</h3>
          <p>🌡️ Temperature: {{ weatherData.main.temp }} °C</p>
          <p>🌥️ Condition: {{ weatherData.weather[0].description }}</p>
          <p>💧 Humidity: {{ weatherData.main.humidity }}%</p>
          <p>🌬️ Wind Speed: {{ weatherData.wind.speed }} m/s</p>
        </mat-card>

        <!-- Wykres prognozy pogody -->
        <div class="chart-container">
          <canvas id="forecastChart" style="width: 100%; height: 400px;"></canvas>
        </div>
      </div>
    </section>
  </main>

  <!-- Stopka -->
  <footer class="dashboard-footer">
    <p>&copy; 2025 QuickWeather - All rights reserved.</p>
    <nav>
      <a href="/about">About</a> |
      <a href="/contact">Contact</a> |
      <a href="/privacy">Privacy Policy</a>
    </nav>
  </footer>
</div>
</body>
