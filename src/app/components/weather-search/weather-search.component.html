<main class="main-container">
  <section class="container">
    <!-- Karta wyszukiwania pogody -->
    <mat-card class="search-card">
      <h2 class="card-title">Check Weather in Your City</h2>
      <mat-form-field appearance="outline" class="search-bar">
        <mat-label>Enter city</mat-label>
        <input matInput [(ngModel)]="city" name="city" pattern="[A-Za-zĄąĆćĘęŁłŃńÓóŚśŹźŻż\s]+" #cityInput="ngModel" />
        <mat-error *ngIf="cityInput.invalid && (cityInput.dirty || cityInput.touched)">
          Please enter a valid city name (letters and spaces only).
        </mat-error>
      </mat-form-field>
      <div class="button-group">
        <button mat-raised-button color="primary" (click)="searchBoth()">Search</button>
      </div>
    </mat-card>

    <!-- Wyniki wyszukiwania pogody -->
    <div *ngIf="weatherData" class="weather-result">
      <mat-card class="result-card">
        <h3 class="result-title">Weather in {{ weatherData.name }}</h3>
        <p>Country: {{ weatherData.sys?.country | countryFlag }}</p>
        <p>🌡️ Temperature: {{ weatherData.main.temp }} °C</p>
        <p>🌥️ Condition: {{ weatherData.weather[0].description }}</p>
        <p>💧 Humidity: {{ weatherData.main.humidity }}%</p>
        <p>🌬️ Wind Speed: {{ weatherData.wind.speed }} m/s</p>
      </mat-card>

      <!-- Wykres prognozy pogody -->
      <mat-card class="chart-card">
        <div class="chart-container">
          <canvas id="forecastChart"></canvas>
        </div>
      </mat-card>
    </div>
  </section>
</main>
